@model IEnumerable<WebAppMVC_eshop.Models.ZboziModel>

@{
    ViewBag.Title = "Seznam";
}

<h2>Seznam</h2>

<p>
    @Html.ActionLink("Vytvořit nový", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Nazev)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Popis)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PocetKusuNaSklade)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Cena)
        </th>
        <th></th>
    </tr>

@{decimal prumer = 0;}

@foreach (var item in Model) {
    prumer += item.Cena;
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Nazev)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Popis)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PocetKusuNaSklade)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Cena)
        </td>
        <td>
            @Html.ActionLink("Upravit", "Edit", new { id=item.ID }) |
            @Html.ActionLink("Smazat", "Delete", new { id=item.ID })
        </td>
    </tr>
}
</table>
<div>
    Máš @ViewBag.PocetKusu zboží za @ViewBag.CenaCelkem Kč.
    <br />

    @if (ViewBag.Prumer != null)
    {
        <span>Průměrná cena je @ViewBag.Prumer.</span>
    }
</div>
<!--
<div>

    Máš @MainData.DatabazeZbozi.Count zboží.

    @if (MainData.DatabazeZbozi.Count != 0)
    {
        prumer /= MainData.DatabazeZbozi.Count;
        <span>Průměrná cena je @prumer</span>
    }
    else
    {
        <span>Umři prosím :)</span>
    }

</div>
-->